if (typeof define !== "function") {
	var define = require("amdefine")(module, require)
}
define(function (b, a, c) {
	var d = b("../../lib/source-map/util");
	a["test urls"] = function (g, f) {
		var e = function (h) {
			g.equal(h, d.urlGenerate(d.urlParse(h)))
		};
		e("http://");
		e("http://www.example.com");
		e("http://user:pass@www.example.com");
		e("http://www.example.com:80");
		e("http://www.example.com/");
		e("http://www.example.com/foo/bar");
		e("http://www.example.com/foo/bar/");
		e("http://user:pass@www.example.com:80/foo/bar/");
		e("//");
		e("//www.example.com");
		e("file:///www.example.com");
		g.equal(d.urlParse("a//b"), null)
	};
	a["test normalize()"] = function (f, e) {
		f.equal(d.normalize("/.."), "/");
		f.equal(d.normalize("/../"), "/");
		f.equal(d.normalize("/../../../.."), "/");
		f.equal(d.normalize("/../../../../a/b/c"), "/a/b/c");
		f.equal(d.normalize("/a/b/c/../../../d/../../e"), "/e");
		f.equal(d.normalize(".."), "..");
		f.equal(d.normalize("../"), "../");
		f.equal(d.normalize("../../a/"), "../../a/");
		f.equal(d.normalize("a/.."), ".");
		f.equal(d.normalize("a/../../.."), "../..");
		f.equal(d.normalize("/."), "/");
		f.equal(d.normalize("/./"), "/");
		f.equal(d.normalize("/./././."), "/");
		f.equal(d.normalize("/././././a/b/c"), "/a/b/c");
		f.equal(d.normalize("/a/b/c/./././d/././e"), "/a/b/c/d/e");
		f.equal(d.normalize("."), ".");
		f.equal(d.normalize("./"), ".");
		f.equal(d.normalize("././a"), "a");
		f.equal(d.normalize("a/./"), "a/");
		f.equal(d.normalize("a/././."), "a");
		f.equal(d.normalize("/a/b//c////d/////"), "/a/b/c/d/");
		f.equal(d.normalize("///a/b//c////d/////"), "///a/b/c/d/");
		f.equal(d.normalize("a/b//c////d"), "a/b/c/d");
		f.equal(d.normalize(".///.././../a/b//./.."), "../../a");
		f.equal(d.normalize("http://www.example.com"), "http://www.example.com");
		f.equal(d.normalize("http://www.example.com/"), "http://www.example.com/");
		f.equal(d.normalize("http://www.example.com/./..//a/b/c/.././d//"), "http://www.example.com/a/b/d/")
	};
	a["test join()"] = function (f, e) {
		f.equal(d.join("a", "b"), "a/b");
		f.equal(d.join("a/", "b"), "a/b");
		f.equal(d.join("a//", "b"), "a/b");
		f.equal(d.join("a", "b/"), "a/b/");
		f.equal(d.join("a", "b//"), "a/b/");
		f.equal(d.join("a/", "/b"), "/b");
		f.equal(d.join("a//", "//b"), "//b");
		f.equal(d.join("a", ".."), ".");
		f.equal(d.join("a", "../b"), "b");
		f.equal(d.join("a/b", "../c"), "a/c");
		f.equal(d.join("a", "."), "a");
		f.equal(d.join("a", "./b"), "a/b");
		f.equal(d.join("a/b", "./c"), "a/b/c");
		f.equal(d.join("a", "http://www.example.com"), "http://www.example.com");
		f.equal(d.join("a", "data:foo,bar"), "data:foo,bar");
		f.equal(d.join("http://foo.org/a", "b"), "http://foo.org/a/b");
		f.equal(d.join("http://foo.org/a/", "b"), "http://foo.org/a/b");
		f.equal(d.join("http://foo.org/a//", "b"), "http://foo.org/a/b");
		f.equal(d.join("http://foo.org/a", "b/"), "http://foo.org/a/b/");
		f.equal(d.join("http://foo.org/a", "b//"), "http://foo.org/a/b/");
		f.equal(d.join("http://foo.org/a/", "/b"), "http://foo.org/b");
		f.equal(d.join("http://foo.org/a//", "//b"), "http://b");
		f.equal(d.join("http://foo.org/a", ".."), "http://foo.org/");
		f.equal(d.join("http://foo.org/a", "../b"), "http://foo.org/b");
		f.equal(d.join("http://foo.org/a/b", "../c"), "http://foo.org/a/c");
		f.equal(d.join("http://foo.org/a", "."), "http://foo.org/a");
		f.equal(d.join("http://foo.org/a", "./b"), "http://foo.org/a/b");
		f.equal(d.join("http://foo.org/a/b", "./c"), "http://foo.org/a/b/c");
		f.equal(d.join("http://foo.org/a", "http://www.example.com"), "http://www.example.com");
		f.equal(d.join("http://foo.org/a", "data:foo,bar"), "data:foo,bar");
		f.equal(d.join("http://foo.org", "a"), "http://foo.org/a");
		f.equal(d.join("http://foo.org/", "a"), "http://foo.org/a");
		f.equal(d.join("http://foo.org//", "a"), "http://foo.org/a");
		f.equal(d.join("http://foo.org", "/a"), "http://foo.org/a");
		f.equal(d.join("http://foo.org/", "/a"), "http://foo.org/a");
		f.equal(d.join("http://foo.org//", "/a"), "http://foo.org/a");
		f.equal(d.join("http://", "www.example.com"), "http://www.example.com");
		f.equal(d.join("file:///", "www.example.com"), "file:///www.example.com");
		f.equal(d.join("http://", "ftp://example.com"), "ftp://example.com");
		f.equal(d.join("http://www.example.com", "//foo.org/bar"), "http://foo.org/bar");
		f.equal(d.join("//www.example.com", "//foo.org/bar"), "//foo.org/bar")
	}
});